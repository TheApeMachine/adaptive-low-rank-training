{
    "version": 1,
    "notes": "Canonical paper run manifest. FineWeb-Edu only. Production implementation only (main.py).",
    "defaults": {
        "tokenizer": "tiktoken",
        "val_frac": 0.1,
        "instrument": "rich",
        "wandb": true,
        "wandb_project": "production",
        "wandb_entity": "p4n0p71c0n",
        "wandb_mode": "online",
        "eval_iters": 20,
        "save_every": 0
    },
    "groups": [
        {
            "name": "mac_fw100m",
            "description": "Macbook suite on FineWeb-Edu 100M tokens. Longer-than-6k runs to address 'too few steps'.",
            "data": "fineweb_100m.npy",
            "runs": [
                {
                    "id": "mac_fw100m_l12_baseline_s1337",
                    "exp": "paper_baseline",
                    "seed": 1337,
                    "wandb_mode": "online",
                    "expected": {
                        "attn_mode": "standard"
                    }
                },
                {
                    "id": "mac_fw100m_l12_bottleneck_s1337",
                    "exp": "paper_bottleneck",
                    "seed": 1337,
                    "wandb_mode": "online",
                    "expected": {
                        "attn_mode": "bottleneck"
                    }
                },
                {
                    "id": "mac_fw100m_l12_decoupled_s1337",
                    "exp": "paper_decoupled",
                    "seed": 1337,
                    "wandb_mode": "online",
                    "expected": {
                        "attn_mode": "decoupled",
                        "null_attn": false,
                        "tie_qk": true,
                        "rope": true
                    }
                },
                {
                    "id": "mac_fw100m_l12_gqa_s1337",
                    "exp": "paper_gqa",
                    "seed": 1337,
                    "wandb_mode": "online",
                    "expected": {
                        "attn_mode": "gqa"
                    }
                },
                {
                    "id": "mac_fw100m_l24_baseline_s1337",
                    "exp": "paper_baseline",
                    "seed": 1337,
                    "wandb_mode": "online",
                    "expected": {
                        "attn_mode": "standard"
                    }
                },
                {
                    "id": "mac_fw100m_l24_bottleneck_s1337",
                    "exp": "paper_bottleneck",
                    "seed": 1337,
                    "wandb_mode": "online",
                    "expected": {
                        "attn_mode": "bottleneck"
                    }
                },
                {
                    "id": "mac_fw100m_l24_decoupled_s1337",
                    "exp": "paper_decoupled",
                    "seed": 1337,
                    "wandb_mode": "online",
                    "expected": {
                        "attn_mode": "decoupled",
                        "null_attn": false,
                        "tie_qk": true,
                        "rope": true
                    }
                },
                {
                    "id": "mac_fw100m_l24_gqa_s1337",
                    "exp": "paper_gqa",
                    "seed": 1337,
                    "wandb_mode": "online",
                    "expected": {
                        "attn_mode": "gqa"
                    }
                },
                {
                    "id": "mac_fw100m_large_baseline_s1337",
                    "size": "large",
                    "exp": "paper_baseline",
                    "seed": 1337,
                    "wandb_mode": "online",
                    "expected": {
                        "attn_mode": "standard"
                    }
                },
                {
                    "id": "mac_fw100m_large_bottleneck_s1337",
                    "size": "large",
                    "exp": "paper_bottleneck",
                    "seed": 1337,
                    "wandb_mode": "online",
                    "expected": {
                        "attn_mode": "bottleneck"
                    }
                },
                {
                    "id": "mac_fw100m_large_decoupled_s1337",
                    "size": "large",
                    "exp": "paper_decoupled",
                    "seed": 1337,
                    "wandb_mode": "online",
                    "expected": {
                        "attn_mode": "decoupled",
                        "null_attn": false,
                        "tie_qk": true,
                        "rope": true
                    }
                },
                {
                    "id": "mac_fw100m_large_gqa_s1337",
                    "size": "large",
                    "exp": "paper_gqa",
                    "seed": 1337,
                    "wandb_mode": "online",
                    "expected": {
                        "attn_mode": "gqa"
                    }
                }
            ]
        },
        {
            "name": "a100_fw1b_1bscale",
            "description": "A100 month-scale suite: 1B baseline vs 1B decoupled with progressive context curriculum (trained on fineweb_20b tokens).",
            "data": "fineweb_20b.npy",
            "runs": [
                {
                    "id": "a100_fw1b_l22_baseline_s1337",
                    "exp": "paper_baseline",
                    "seed": 1337,
                    "wandb_mode": "online",
                    "resume": true,
                    "expected": {
                        "attn_mode": "standard"
                    }
                },
                {
                    "id": "a100_fw1b_l22_decoupled_s1337",
                    "exp": "paper_decoupled",
                    "seed": 1337,
                    "wandb_mode": "online",
                    "resume": true,
                    "expected": {
                        "attn_mode": "decoupled",
                        "null_attn": false,
                        "tie_qk": true,
                        "rope": true
                    }
                }
            ]
        }
    ]
}